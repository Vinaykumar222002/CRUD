<!DOCTYPE html>
<html>
<head>
    <title>Edit User</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="top-header">
    <nav class="menu">
        <div class="logo">CRUD</div>
        <div class="menu-links">
            <a href="/home" class="menu-item">ADD</a>
            <a href="/users_table/" class="menu-item">VIEW</a>
            <a href="/users_table/" class="menu-item">EDIT</a>
            <a href="/users_table/" class="menu-item">DELETE</a>
        </div>
    </nav>
</div>

<div class="form-container">
    <h2>Edit User</h2>
    <p>Update user details carefully</p>

    <!-- enctype is required for file uploads -->
    <form action="/update_user/{{ user.id }}" method="post" enctype="multipart/form-data">

        <div class="form-group">
            <label>Name</label>
            <input type="text" name="name" value="{{ user.name }}" required>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" value="{{ user.email }}" required>
        </div>

        <div class="form-group">
            <label>Age</label>
            <input type="number" name="age" value="{{ user.age }}" required>
        </div>

        <div class="form-group">
            <label>City</label>
            <input type="text" name="city" value="{{ user.city }}" required>
        </div>

        <div class="form-group">
            <label>Gender</label>
            <select name="gender">
                <option value="Male" {% if user.gender=='Male' %}selected{% endif %}>Male</option>
                <option value="Female" {% if user.gender=='Female' %}selected{% endif %}>Female</option>
                <option value="Other" {% if user.gender=='Other' %}selected{% endif %}>Other</option>
            </select>
        </div>

        <div class="form-group">
            <label>Skills</label>
            <div class="checkbox-row">
                {% set skills=user.skills.split(',') %}
                <label><input type="checkbox" name="skills" value="Python" {% if 'Python' in skills %}checked{% endif %}> Python</label>
                <label><input type="checkbox" name="skills" value="HTML" {% if 'HTML' in skills %}checked{% endif %}> HTML</label>
                <label><input type="checkbox" name="skills" value="CSS" {% if 'CSS' in skills %}checked{% endif %}> CSS</label>
                <label><input type="checkbox" name="skills" value="Others" {% if 'Others' in skills %}checked{% endif %}> Others</label>
            </div>
        </div>

        <!-- Image Upload -->
        <div class="form-group">
            <label>Profile Image</label>
            {% if user.image_path %}
                <img src="/{{ user.image_path }}" alt="User Image" width="120"><br>
            {% endif %}
            <input type="file" name="image" accept=".jpg,.jpeg,.png">
        </div>

        <!-- PDF Upload -->
        <div class="form-group">
            <label>Resume (PDF)</label>
            {% if user.pdf_path %}
                <a href="/{{ user.pdf_path }}" target="_blank">Current PDF</a><br>
            {% endif %}
            <input type="file" name="pdf" accept=".pdf">
        </div>
        <div class="submit">
            <button type="submit" class="submit-btn">Submit</button>
        </div>
    </form>
</div>

</body>
</html>